"use strict";

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }

function _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }

function _typeof(obj) { "@babel/helpers - typeof"; if (typeof Symbol === "function" && typeof Symbol.iterator === "symbol") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }; } return _typeof(obj); }

!function (t, e) {
  "object" == (typeof exports === "undefined" ? "undefined" : _typeof(exports)) && "object" == (typeof module === "undefined" ? "undefined" : _typeof(module)) ? module.exports = e() : "function" == typeof define && define.amd ? define([], e) : "object" == (typeof exports === "undefined" ? "undefined" : _typeof(exports)) ? exports.scrollSpy = e() : t.scrollSpy = e();
}(window, function () {
  return function (t) {
    var e = {};

    function o(n) {
      if (e[n]) return e[n].exports;
      var r = e[n] = {
        i: n,
        l: !1,
        exports: {}
      };
      return t[n].call(r.exports, r, r.exports, o), r.l = !0, r.exports;
    }

    return o.m = t, o.c = e, o.d = function (t, e, n) {
      o.o(t, e) || Object.defineProperty(t, e, {
        enumerable: !0,
        get: n
      });
    }, o.r = function (t) {
      "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, {
        value: "Module"
      }), Object.defineProperty(t, "__esModule", {
        value: !0
      });
    }, o.t = function (t, e) {
      if (1 & e && (t = o(t)), 8 & e) return t;
      if (4 & e && "object" == _typeof(t) && t && t.__esModule) return t;
      var n = Object.create(null);
      if (o.r(n), Object.defineProperty(n, "default", {
        enumerable: !0,
        value: t
      }), 2 & e && "string" != typeof t) for (var r in t) {
        o.d(n, r, function (e) {
          return t[e];
        }.bind(null, r));
      }
      return n;
    }, o.n = function (t) {
      var e = t && t.__esModule ? function () {
        return t["default"];
      } : function () {
        return t;
      };
      return o.d(e, "a", e), e;
    }, o.o = function (t, e) {
      return Object.prototype.hasOwnProperty.call(t, e);
    }, o.p = "", o(o.s = 0);
  }([function (t, e, o) {
    t.exports = function (t) {
      var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

      var _o = o(1),
          n = _o.ScrollSpy,
          r = new n(t, e);

      return window.onload = r.onScroll(), window.addEventListener("scroll", function () {
        return r.onScroll();
      }), r;
    };
  }, function (t, e, o) {
    "use strict";

    o.r(e), o.d(e, "ScrollSpy", function () {
      return n;
    });

    var n = /*#__PURE__*/function () {
      function n(t) {
        var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

        _classCallCheck(this, n);

        if (!t) throw new Error("First argument is query selector to your navigation.");
        if ("object" != _typeof(e)) throw new Error("Second argument must be instance of Object.");
        this.menuList = t instanceof HTMLElement ? t : document.querySelector(t), this.options = Object.assign({}, {
          sectionClass: ".scrollspy",
          menuActiveTarget: "li > a",
          offset: 0,
          hrefAttribute: "href",
          activeClass: "active"
        }, e), this.sections = document.querySelectorAll(this.options.sectionClass);
      }

      _createClass(n, [{
        key: "onScroll",
        value: function onScroll() {
          var t = this.getSectionInView(),
              e = this.getMenuItemBySection(t);
          e && (this.removeCurrentActive({
            ignore: e
          }), this.setActive(e));
        }
      }, {
        key: "getMenuItemBySection",
        value: function getMenuItemBySection(t) {
          if (!t) return;
          var e = t.getAttribute("id");
          return this.menuList.querySelector("[".concat(this.options.hrefAttribute, "=\"#").concat(e, "\"]"));
        }
      }, {
        key: "getSectionInView",
        value: function getSectionInView() {
          for (var _t = 0; _t < this.sections.length; _t++) {
            var _e = this.sections[_t].offsetTop,
                _o2 = _e + this.sections[_t].offsetHeight,
                _n = (document.documentElement.scrollTop || document.body.scrollTop) + this.options.offset;

            if (_n > _e && _n <= _o2) return this.sections[_t];
          }
        }
      }, {
        key: "setActive",
        value: function setActive(t) {
          t.classList.contains(this.options.activeClass) || t.classList.add(this.options.activeClass);
        }
      }, {
        key: "removeCurrentActive",
        value: function removeCurrentActive(_ref) {
          var _this = this;

          var t = _ref.ignore;
          var _this$options = this.options,
              e = _this$options.hrefAttribute,
              o = _this$options.menuActiveTarget,
              n = "".concat(o, ".active:not([").concat(e, "=\"").concat(t.getAttribute(e), "\"])");
          this.menuList.querySelectorAll(n).forEach(function (t) {
            return t.classList.remove(_this.options.activeClass);
          });
        }
      }]);

      return n;
    }();
  }]);
});